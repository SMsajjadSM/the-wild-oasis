# Ù†Ø§Ù… ÙˆØ±Ú©â€ŒÙÙ„Ùˆ Ú©Ù‡ Ø¯Ø± ØªØ¨ Actions Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
name: Daily Auto Commit

on:
  schedule:
    # Ù‡Ø± Ø±ÙˆØ² Ø³Ø§Ø¹Øª 3:30 Ø¨Ø§Ù…Ø¯Ø§Ø¯ Ø¨Ù‡ ÙˆÙ‚Øª UTC Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    # Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ± Ø²Ù…Ø§Ù†ØŒ Ø§Ø² Ø³Ø§ÛŒØª crontab.guru Ú©Ù…Ú© Ø¨Ú¯ÛŒØ±ÛŒØ¯
    - cron: '30 3 * * *'
  # Ø§ÛŒÙ† Ø®Ø· Ø¨Ù‡ Ø´Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ ØªØ§ Ø§Ú©Ø´Ù† Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¯Ø³ØªÛŒ Ù‡Ù… Ø§Ø¬Ø±Ø§ Ú©Ù†ÛŒØ¯
  workflow_dispatch:

jobs:
  auto_commit_job:
    # Ø³ÛŒØ³ØªÙ…â€ŒØ¹Ø§Ù…Ù„ÛŒ Ú©Ù‡ Ø§Ú©Ø´Ù† Ø±ÙˆÛŒ Ø¢Ù† Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    runs-on: ubuntu-latest
    
    # Ø¯Ø³ØªØ±Ø³ÛŒ Ù„Ø§Ø²Ù… Ø¨Ø±Ø§ÛŒ Ù†ÙˆØ´ØªÙ† (Ù¾ÙˆØ´ Ú©Ø±Ø¯Ù†) Ø¯Ø± Ø±ÛŒÙ¾Ø§Ø²ÛŒØªÙˆØ±ÛŒ Ø±Ø§ Ø¨Ù‡ Ø§Ú©Ø´Ù† Ù…ÛŒâ€ŒØ¯Ù‡Ø¯
    permissions:
      contents: write
      
    steps:
      # Ù…Ø±Ø­Ù„Ù‡ Û±: Ú©Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø´Ù…Ø§ Ø±Ø§ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
      - name: Checkout repository
        uses: actions/checkout@v4

      # Ù…Ø±Ø­Ù„Ù‡ Û²: ÛŒÚ© ØªØºÛŒÛŒØ± Ú©ÙˆÚ†Ú© Ø¯Ø± ÛŒÚ© ÙØ§ÛŒÙ„ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ú©Ø§Ù…ÛŒØª Ø®Ø§Ù„ÛŒ Ù†Ø¨Ø§Ø´Ø¯
      - name: Modify a file
        run: echo "Last update: $(date)" > last_update.md

      # Ù…Ø±Ø­Ù„Ù‡ Û³: ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú¯ÛŒØª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù…ÛŒØª Ú©Ø±Ø¯Ù†
      - name: Configure Git
        run: |
          git config --global user.name 'GitHub Actions Bot'
          git config --global user.email 'actions@github.com'

      # Ù…Ø±Ø­Ù„Ù‡ Û´: ØªØºÛŒÛŒØ±Ø§Øª Ø±Ø§ stage Ú©Ø±Ø¯Ù‡ØŒ Ú©Ø§Ù…ÛŒØª Ùˆ Ù¾ÙˆØ´ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
      - name: Commit and push changes
        run: |
          git add .
          git commit -m "ðŸš€ Chore: Daily auto-commit to keep graph green" || echo "No changes to commit"
          git push
